"use strict";(self.webpackChunknote_goat=self.webpackChunknote_goat||[]).push([[29],{6029:function(e,t,r){r.r(t),r.d(t,{FileHandle:function(){return g},FolderHandle:function(){return H},Sink:function(){return z}});var i=r(4165),n=r(5861),s=r(5647),a=r(3433),o=r(5671),u=r(3144),c=r(608),h=r(6420),f=r(1441),l=r(6296),p=r(465),Z=r(2047),d=Z.Z.File,w=Z.Z.Blob,k=Z.Z.DOMException,v=p.errors.INVALID,b=p.errors.GONE,y=p.errors.MISMATCH,x=p.errors.MOD_ERR,_=p.errors.SYNTAX,m=(p.errors.SECURITY,p.errors.DISALLOWED),z=function(){function e(t,r){(0,o.Z)(this,e),this.fileHandle=t,this.file=r,this.size=r.size,this.position=0}return(0,u.Z)(e,[{key:"write",value:function(e){var t=this.file;if("object"===typeof e)if("write"===e.type){if(Number.isInteger(e.position)&&e.position>=0&&(this.position=e.position,this.size<e.position&&(this.file=new d([this.file,new ArrayBuffer(e.position-this.size)],this.file.name,this.file))),!("data"in e))throw(0,s.Z)(k,(0,a.Z)(_("write requires a data argument")));e=e.data}else{if("seek"===e.type){if(Number.isInteger(e.position)&&e.position>=0){if(this.size<e.position)throw(0,s.Z)(k,(0,a.Z)(v));return void(this.position=e.position)}throw(0,s.Z)(k,(0,a.Z)(_("seek requires a position argument")))}if("truncate"===e.type){if(Number.isInteger(e.size)&&e.size>=0)return t=e.size<this.size?new d([t.slice(0,e.size)],t.name,t):new d([t,new Uint8Array(e.size-this.size)],t.name),this.size=t.size,this.position>t.size&&(this.position=t.size),void(this.file=t);throw(0,s.Z)(k,(0,a.Z)(_("truncate requires a size argument")))}}e=new w([e]);var r=this.file,i=r.slice(0,this.position),n=r.slice(this.position+e.size),o=this.position-i.size;o<0&&(o=0),r=new d([i,new Uint8Array(o),e,n],r.name),this.size=r.size,this.position+=e.size,this.file=r}},{key:"close",value:function(){if(this.fileHandle._deleted)throw(0,s.Z)(k,(0,a.Z)(b));this.fileHandle._file=this.file,this.file=this.position=this.size=null,this.fileHandle.onclose&&this.fileHandle.onclose(this.fileHandle)}}]),e}(),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new d([],t),i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,o.Z)(this,e),this._file=r,this.name=t,this.kind="file",this._deleted=!1,this.writable=i,this.readable=!0}return(0,u.Z)(e,[{key:"getFile",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}throw(0,s.Z)(k,(0,a.Z)(b));case 2:return e.abrupt("return",this._file);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createWritable",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.writable){e.next=2;break}throw(0,s.Z)(k,(0,a.Z)(m));case 2:if(!this._deleted){e.next=4;break}throw(0,s.Z)(k,(0,a.Z)(b));case 4:if(!t.keepExistingData){e.next=10;break}return e.next=7,this.getFile();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=new d([],this.name);case 11:return r=e.t0,e.abrupt("return",new z(this,r));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSameEntry",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this===t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0,this._file=null;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),H=function(){function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,o.Z)(this,e),this.name=t,this.kind="directory",this._deleted=!1,this._entries={},this.writable=r,this.readable=!0}return(0,u.Z)(e,[{key:"entries",value:function(){var e=this;return(0,c.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}throw(0,s.Z)(k,(0,a.Z)(b));case 2:return t.delegateYield((0,f.Z)((0,l.Z)(Object.entries(e._entries)),h.Z),"t0",3);case 3:case"end":return t.stop()}}),t)})))()}},{key:"isSameEntry",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this===t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDirectoryHandle",value:function(){var t=(0,n.Z)((0,i.Z)().mark((function t(r,n){var o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._deleted){t.next=2;break}throw(0,s.Z)(k,(0,a.Z)(b));case 2:if(!(o=this._entries[r])){t.next=11;break}if(!(o instanceof g)){t.next=8;break}throw(0,s.Z)(k,(0,a.Z)(y));case 8:return t.abrupt("return",o);case 9:t.next=16;break;case 11:if(!n.create){t.next=15;break}return t.abrupt("return",this._entries[r]=new e(r));case 15:throw(0,s.Z)(k,(0,a.Z)(b));case 16:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"getFileHandle",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,r){var n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._entries[t],o=n instanceof g,!n||!o){e.next=4;break}return e.abrupt("return",n);case 4:if(!n||o){e.next=6;break}throw(0,s.Z)(k,(0,a.Z)(y));case 6:if(n||r.create){e.next=8;break}throw(0,s.Z)(k,(0,a.Z)(b));case 8:if(n||!r.create){e.next=10;break}return e.abrupt("return",this._entries[t]=new g(t));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeEntry",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._entries[t]){e.next=3;break}throw(0,s.Z)(k,(0,a.Z)(b));case 3:return e.next=5,n._destroy(r.recursive);case 5:delete this._entries[t];case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){var r,n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n=Object.values(this._entries);case 1:if(!(r<n.length)){e.next=10;break}if(o=n[r],t){e.next=5;break}throw(0,s.Z)(k,(0,a.Z)(x));case 5:return e.next=7,o._destroy(t);case 7:r++,e.next=1;break;case 10:this._entries={},this._deleted=!0;case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=new H("");t.default=function(){return E}}}]);
//# sourceMappingURL=29.c53ab864.chunk.js.map